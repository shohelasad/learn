google.load("elements","1",{packages:"transliteration"});var transliterationControl; function onLoad(){var a={sourceLanguage:"en",destinationLanguage:$("#languageOptions").val(),transliterationEnabled:!0,shortcutKey:"ctrl+g"};transliterationControl=new google.elements.transliteration.TransliterationControl(a);transliterationControl.makeTransliteratable(["wmd-input","emailContents","prependedSubject"]);transliterationControl.addEventListener(google.elements.transliteration.TransliterationControl.EventType.STATE_CHANGED,transliterateStateChangeHandler);transliterationControl.addEventListener(google.elements.transliteration.TransliterationControl.EventType.SERVER_UNREACHABLE, serverUnreachableHandler);transliterationControl.addEventListener(google.elements.transliteration.TransliterationControl.EventType.SERVER_REACHABLE,serverReachableHandler);document.getElementById("checkboxId").checked=transliterationControl.isTransliterationEnabled();var a=transliterationControl.getLanguagePair().destinationLanguage,d=document.getElementById("languageDropDown"),e=google.elements.transliteration.getDestinationLanguages(google.elements.transliteration.LanguageCode.ENGLISH),c;for(c in e){var b= document.createElement("option");b.text=c;b.value=e[c];a==b.value&&(b.selected=!0);try{d.add(b,null)}catch(f){d.add(b)}}}function transliterateStateChangeHandler(a){document.getElementById("checkboxId").checked=a.transliterationEnabled}function checkboxClickHandler(){transliterationControl.toggleTransliteration()} function languageChangeHandler(){var a=document.getElementById("languageDropDown");transliterationControl.setLanguagePair(google.elements.transliteration.LanguageCode.ENGLISH,a.options[a.selectedIndex].value)}function serverUnreachableHandler(){document.getElementById("errorDiv").innerHTML="Transliteration Server unreachable"}function serverReachableHandler(){document.getElementById("errorDiv").innerHTML=""}google.setOnLoadCallback(onLoad);